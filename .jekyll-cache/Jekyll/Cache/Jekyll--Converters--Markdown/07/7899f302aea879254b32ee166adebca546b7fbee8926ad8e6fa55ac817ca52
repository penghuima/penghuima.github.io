I"ÿ<ul id="markdown-toc">
  <li><a href="#è¯´æ˜" id="markdown-toc-è¯´æ˜">è¯´æ˜</a></li>
  <li><a href="#å‘½ä»¤æ ¼å¼" id="markdown-toc-å‘½ä»¤æ ¼å¼">å‘½ä»¤æ ¼å¼</a>    <ul>
      <li><a href="#æ–‡ä»¶å®šä¹‰" id="markdown-toc-æ–‡ä»¶å®šä¹‰">æ–‡ä»¶å®šä¹‰</a></li>
      <li><a href="#å½“å‰ç”¨æˆ·" id="markdown-toc-å½“å‰ç”¨æˆ·">å½“å‰ç”¨æˆ·</a></li>
      <li><a href="#å¸¸è§å®šæ—¶" id="markdown-toc-å¸¸è§å®šæ—¶">å¸¸è§å®šæ—¶</a></li>
    </ul>
  </li>
  <li><a href="#ç¯å¢ƒå˜é‡" id="markdown-toc-ç¯å¢ƒå˜é‡">ç¯å¢ƒå˜é‡</a></li>
</ul>

<h3 id="è¯´æ˜">è¯´æ˜</h3>
<p>linux çš„ Crontab å®šæ—¶ä»»åŠ¡å‘½ä»¤ å¯ä»¥ åœ¨ linux è§„å®šçš„æ—¶é—´åšå‡ºç›¸åº”çš„æ“ä½œ</p>

<h3 id="å‘½ä»¤æ ¼å¼">å‘½ä»¤æ ¼å¼</h3>
<p>å‘½ä»¤åŸºæœ¬æ ¼å¼:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Example of job definition:
# .---------------- minute (0 - 59)
# |  .------------- hour (0 - 23)
# |  |  .---------- day of month (1 - 31)
# |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...
# |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat
# |  |  |  |  |
# *  *  *  *  * user-name  command to be executed
</code></pre></div></div>

<!--more-->
<h4 id="æ–‡ä»¶å®šä¹‰">æ–‡ä»¶å®šä¹‰</h4>
<p>è¯¥æ–‡ä»¶å¤„äºï¼š<code class="language-plaintext highlighter-rouge">/etc/crontab</code></p>

<p><code class="language-plaintext highlighter-rouge">*  *  *  *  * user-name command to be executed</code></p>

<p>åœ¨æ–‡ä»¶ä¸­å®šä¹‰å®šæ—¶ä»»åŠ¡éœ€è¦åŠ <code class="language-plaintext highlighter-rouge">user-name</code></p>

<p>å› ä¸ºæ–‡ä»¶æ˜¯é’ˆå¯¹æ•´ä¸ªç³»ç»Ÿè€Œè¨€çš„,æ·»åŠ äº†<code class="language-plaintext highlighter-rouge">user-name</code> å°±æ˜¯è¯´æ˜è¿™ä¸ªæ¡å®šæ—¶ä»»åŠ¡æ˜¯è°æ‰§è¡Œçš„</p>

<h4 id="å½“å‰ç”¨æˆ·">å½“å‰ç”¨æˆ·</h4>
<p><code class="language-plaintext highlighter-rouge">*  *  *  *  * command to be executed</code>  <br />
<code class="language-plaintext highlighter-rouge">crontab -l</code> æŸ¥çœ‹å½“å‰ç³»ç»Ÿç™»å½•ä¸‹çš„å®šæ—¶ä»»åŠ¡  <br />
<code class="language-plaintext highlighter-rouge">crontab -e</code> ç¼–è¾‘å½“å‰ç³»ç»Ÿç™»å½•ä¸‹çš„å®šæ—¶ä»»åŠ¡  <br />
<code class="language-plaintext highlighter-rouge">crontab -r</code> æ¸…ç©ºå½“å‰ç³»ç»Ÿç™»å½•ä¸‹çš„å®šæ—¶ä»»åŠ¡</p>

<p>å¯ä»¥ä¸æŒ‡å®šç”¨æˆ·åã€è¡¨ç¤ºå½“å‰ç™»å½•ç”¨æˆ·çš„å®šæ—¶ä»»åŠ¡</p>

<h4 id="å¸¸è§å®šæ—¶">å¸¸è§å®šæ—¶</h4>
<p>å®ä¾‹1ï¼šæ¯1åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡myCommand  <br />
<code class="language-plaintext highlighter-rouge">* * * * * myCommand</code></p>

<p>å®ä¾‹2ï¼šæ¯å°æ—¶çš„ç¬¬3å’Œç¬¬15åˆ†é’Ÿæ‰§è¡Œ  <br />
<code class="language-plaintext highlighter-rouge">3,15 * * * * myCommand</code></p>

<p>å®ä¾‹3ï¼šåœ¨ä¸Šåˆ8ç‚¹åˆ°11ç‚¹çš„ç¬¬3å’Œç¬¬15åˆ†é’Ÿæ‰§è¡Œ  <br />
<code class="language-plaintext highlighter-rouge">3,15 8-11 * * * myCommand</code></p>

<p>å®ä¾‹4ï¼šæ¯éš”ä¸¤å¤©çš„ä¸Šåˆ8ç‚¹åˆ°11ç‚¹çš„ç¬¬3å’Œç¬¬15åˆ†é’Ÿæ‰§è¡Œ  <br />
<code class="language-plaintext highlighter-rouge">3,15 8-11 */2  *  * myCommand</code></p>

<p>å®ä¾‹5ï¼šæ¯å‘¨ä¸€ä¸Šåˆ8ç‚¹åˆ°11ç‚¹çš„ç¬¬3å’Œç¬¬15åˆ†é’Ÿæ‰§è¡Œ  <br />
<code class="language-plaintext highlighter-rouge">3,15 8-11 * * 1 myCommand</code></p>

<p>å®ä¾‹6ï¼šæ¯æ™šçš„21:30é‡å¯smb  <br />
<code class="language-plaintext highlighter-rouge">30 21 * * * /etc/init.d/smb restart</code></p>

<p>å®ä¾‹7ï¼šæ¯æœˆ1ã€10ã€22æ—¥çš„4 : 45é‡å¯smb  <br />
<code class="language-plaintext highlighter-rouge">45 4 1,10,22 * * /etc/init.d/smb restart</code></p>

<p>å®ä¾‹8ï¼šæ¯å‘¨å…­ã€å‘¨æ—¥çš„1 : 10é‡å¯smb  <br />
<code class="language-plaintext highlighter-rouge">10 1 * * 6,0 /etc/init.d/smb restart</code></p>

<p>å®ä¾‹9ï¼šæ¯å¤©18 : 00è‡³23 : 00ä¹‹é—´æ¯éš”30åˆ†é’Ÿé‡å¯smb  <br />
<code class="language-plaintext highlighter-rouge">0,30 18-23 * * * /etc/init.d/smb restart</code></p>

<p>å®ä¾‹10ï¼šæ¯æ˜ŸæœŸå…­çš„æ™šä¸Š11 : 00 pmé‡å¯smb  <br />
<code class="language-plaintext highlighter-rouge">0 23 * * 6 /etc/init.d/smb restart</code></p>

<p>å®ä¾‹11ï¼šæ¯ä¸€å°æ—¶é‡å¯smb  <br />
<code class="language-plaintext highlighter-rouge">* */1 * * * /etc/init.d/smb restart</code></p>

<h3 id="ç¯å¢ƒå˜é‡">ç¯å¢ƒå˜é‡</h3>
<p><code class="language-plaintext highlighter-rouge">/etc/profile</code> å®šä¹‰çš„ç¯å¢ƒå˜é‡,å•ç‹¬æ‰§è¡Œå¯ä»¥ä½¿ç”¨ï¼Œä½†æ˜¯å¦‚æœæ”¾åœ¨crontab é‡Œé¢å´å‡ºç°ç¯å¢ƒé—®é¢˜.</p>

<p>è§£å†³æ–¹æ³•:</p>

<ul>
  <li>åœ¨.shçš„shellçš„è„šæœ¬å¤´éƒ¨ã€å†™ä¸Š<code class="language-plaintext highlighter-rouge">source /etc/profile</code></li>
  <li>åœ¨å®šä¹‰ä»»åŠ¡çš„æ—¶å€™,åŠ è½½ç¯å¢ƒå˜é‡  <br />
<code class="language-plaintext highlighter-rouge">*  *  *  *  * source /etc/profile /home/restartTomcat.sh</code></li>
</ul>

<hr />
<p>æ—¶é—´å†³å®šä½ ä¼šåœ¨ç”Ÿå‘½ä¸­é‡è§è°ï¼Œä½ çš„å¿ƒå†³å®šä½ æƒ³è¦è°å‡ºç°åœ¨ä½ çš„ç”Ÿå‘½é‡Œï¼Œè€Œä½ çš„è¡Œä¸ºå†³å®šæœ€åè°èƒ½ç•™ä¸‹ã€‚</p>

<p>â€“ ã€Šç“¦å°”ç™»æ¹–ã€‹</p>
:ET